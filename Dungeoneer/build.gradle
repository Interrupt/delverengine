apply plugin: "java"

sourceCompatibility = 1.8
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceSets.main.java.srcDirs = [ "src/" ]

sourceSets.test.java.srcDirs = ["test/"]

task packageFiles {
    def text = "# Auto-generated file created by 'gradle Dungeoneer:build'\n" +
            "# used to let the game list directories for packaged files\n" +
            "./\n"

    fileTree(dir: "./assets", exclude: "save").visit { FileVisitDetails details ->
        text += "./" + details.relativePath.toString().replace("\\\\", "/") + "\n"
    }

    def file = file("./assets/packaged_files.txt")
    file.text = text
}

eclipse.project {
    name = appName + "-core"
}

test {
    useJUnitPlatform()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'
}
